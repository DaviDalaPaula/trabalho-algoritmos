#include <iostream>
#include <fstream> //funçao ifstream
#include <locale>
//#include <windows.h>

#define NUMERO_DE_PALAVRAS 245366
#define NUMERO_DE_LETRAS 6

using namespace std;

char palavrasDe6Letras[NUMERO_DE_PALAVRAS][NUMERO_DE_LETRAS + 1];


void TestaTentativa(char Tentativa[NUMERO_DE_LETRAS + 1])
{
    
}
void ValidaTentativa(char Tentativa[NUMERO_DE_LETRAS + 1]) //pode usar bool aqui se quiser
{
    int i=0;
    for(; i < NUMERO_DE_LETRAS; i++)
    {
        if(Tentativa[i] < 'a' || Tentativa[i] > 'z' || Tentativa[i] < 'A' || Tentativa[i] > 'Z')
        {
            cout<<"Tentativa inválida, insira apenas letras por favor.\n";
            PegaTentativa();
        } 
    }
}

void PegaTentativa()
{
    char Tentativa[NUMERO_DE_LETRAS + 1];
    cin.getline(Tentativa, NUMERO_DE_LETRAS + 1);
    
    ValidaTentativa(Tentativa);
}

void TelaDeInicio()
{
    cout << "===========================================================================================\n"; 
    cout << "                                    JOGO TERMO  \n"; 
    cout << "===========================================================================================\n"; 
    cout << "Regras:\n"; 
    cout << " - Você tem 10 tentativas.\n"; 
    cout << " - Cada palavra deve ter 6 letras.\n"; 
    cout << " - Para letras corretas o símbolo “o” aparecerá logo abaixo do caractere\n"; 
    cout << " - Para letras certas na posição errada o símbolo x aparecerá logo abaixo do caractere.\n"; 
    cout << " - Para Letras incorretas o símbolo _ aparecerá logo abaixo do caractere.\n"; 
    cout << "===========================================================================================\n"; 
    cout << "Pressione ENTER para começar.\n"; cin.ignore(); // espera apertar ENTER
    
    PegaTentativa();
}

int armazenarPalavras(char palavrasDe6Letras[][NUMERO_DE_LETRAS + 1]) {
    ifstream arquivo("../palavrasDaLinguaPortuguesa.txt");
    if (!arquivo) {
        cout << "Erro ao abrir arquivo\n";
        return 0;
    }

    char palavraTemporaria[47];
    int posicaoDaPalavra = 0;

    while (posicaoDaPalavra < NUMERO_DE_PALAVRAS &&
           arquivo.getline(palavraTemporaria, 47)){
        int j = 0;
        for (; palavraTemporaria[j] != '\0'; j++);
        if (j == NUMERO_DE_LETRAS) {
            for (int posicaoDaLetra = 0; posicaoDaLetra < NUMERO_DE_LETRAS; posicaoDaLetra++) {
                palavrasDe6Letras[posicaoDaPalavra][posicaoDaLetra] =
                    palavraTemporaria[posicaoDaLetra];
            }
            palavrasDe6Letras[posicaoDaPalavra][NUMERO_DE_LETRAS] = '\0';
            posicaoDaPalavra++;
        }
    }
    return posicaoDaPalavra;
}

int main()
{
    //SetConsoleOutputCP(CP_UTF8);
    setlocale(LC_ALL, "pt_BR.UTF-8");
    
    int numeroDePalavrasDe6Letras = armazenarPalavras(palavrasDe6Letras);
    
    TelaDeInicio();

    return 0;
}
